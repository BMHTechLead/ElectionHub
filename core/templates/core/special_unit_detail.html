{% extends "core/base.html" %}
{% load humanize %}

{% block title %}Special Unit Votes{% endblock %}

{% block content %}

<div class="mb-4">

  <!-- BACK LINK -->
  <h3 class="fw-bold mb-1">
    <a href="{% url 'governorate_special' election.id unit.governorate.id %}"
       class="text-decoration-none text-dark">
      ‚Üê Special Unit - {{ unit.election_unit_name }}
    </a>
  </h3>

  <div class="text-muted small">
    Election: {{ election.name }}
  </div>

  <!-- TOTAL BOX -->
  <div class="mt-3">
    <span class="badge rounded-pill px-4 py-2 border border-success text-success bg-white">
      Total Special Votes: {{ total_votes|intcomma }}
    </span>
  </div>

</div>


<div class="card shadow-sm">
  <div class="card-body">

    <h5 class="fw-bold mb-3">Candidate Results</h5>

    <div class="table-responsive">
      <table class="table table-hover align-middle">

        <thead>
          <tr>
            <th>Candidate #</th>
            <th>Candidate Name</th>
            <th>List #</th>
            <th>List Name</th>
            <th class="text-end">Votes</th>
          </tr>
        </thead>

        <tbody>
          {% for v in votes %}
          <tr>
            <td>{{ v.candidate_number }}</td>
            <td>{{ v.candidate_name }}</td>
            <td>{{ v.list_number }}</td>
            <td>{{ v.list_name }}</td>

            <td class="text-end fw-bold">
              {{ v.total_votes|intcomma }}
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5" class="text-center text-muted py-4">
              No special votes found.
            </td>
          </tr>
          {% endfor %}
        </tbody>

      </table>
    </div>

  </div>
</div>

{% endblock %}
